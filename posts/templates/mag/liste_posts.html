<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Afficher les Postes</title>
    <script src="https://unpkg.com/@lyket/widget@latest/dist/lyket.js?apiKey=pt_774bf810863bba2e5c7da24f2dfed3"></script>

    {% extends "student/base.html" %} {% block content %}
    <style>
      /* Styles CSS */
      @import url("https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600&family=Roboto:wght@500;700&display=swap");

      :root {
        --clr-text: hsl(0, 0%, 100%);
      }

      * {
        box-sizing: border-box;
        padding: 0;
        margin: 0;
        font-family: "Quicksand", sans-serif;
      }

      .posts {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .post-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
      }

      .post {
        font-size: 15px;
        font-weight: 500;
        color: var(--clr-text);
        background: rgb(60, 59, 59); /* Ajoutez une couleur d'arrière-plan */
        box-shadow: 4px 4px 30px rgb(0, 0, 0);
        border-radius: 10px;
        padding: 16px 16px 0;
        margin-bottom: 16px;
      }

      .post-img {
        max-width: 550px;
        max-height: 550px;
        object-fit: cover;
        overflow: hidden;
        aspect-ratio: 4/3;
        border-radius: 6px;
        user-select: none;
        pointer-events: none;
      }

      .post-body {
        height: auto;
        width: 600px;
        display: flex; /* Modification du display en flex */
        flex-direction: column; /* Ajout d'une direction de colonne */
        align-items: center; /* Centrage horizontal */
        gap: 8px;
        padding: 15px 0;
        cursor: default;
      }

      .post-body-ajout a {
        font-size: 15px;
        font-weight: 500;
        color: var(--clr-text);
        background: rgb(60, 59, 59); /* Ajoutez une couleur d'arrière-plan */
        box-shadow: 4px 4px 30px rgb(0, 0, 0);
        border-radius: 10px;
        padding: 16px 16px 0;
        margin-bottom: 16px;
        font-size: "30px";
        height: auto;
        width: 600px;
        color: white;
        text-decoration: none;
        display: flex; /* Modification du display en flex */
        flex-direction: column; /* Ajout d'une direction de colonne */
        align-items: center;
        gap: 8px;
        padding: 15px 0;

      }

      .post-username {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .post-author {
        font-size: 10px;
      }

      .post-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
      }

      .post-name {
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 2px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .post-author {
        width: fit-content;
        font-size: 0.8rem;
        font-weight: 600;
        opacity: 0.6;
        color: var(--clr-text);
      }

      .post-avatar {
        width: 40px;
        aspect-ratio: 1/1;
        object-fit: cover;
        border-radius: 5px;
        cursor: pointer;
      }
      .like {
        color: white;
      }
    </style>
  </head>
  <body>
    <br /><br /><br /><br /><br />

    <div class="posts">
        <div class="post-body-ajout">
          <a href="{% url 'select_form' %}"> Ajouter une poste</a>
        </div>
    </div>

    <div class="posts">
      <div class="post-container">
        {% for poste in posts %}
        <div class="post">
          <div class="post-body">
            <div class="post-detail">
              <img class="post-img" src="/media/{{poste.image}}" alt="recipe" />
              <h2 class="post-name">{{ poste.title }}</h2>
              {% if poste.type == '0' %}
              <h2>
                Offre de {% if poste.stage %}Stage{% elif poste.logement%}Logement{% elif poste.transport %}Transport{% elif poste.recommandation %}Recommandation{% elif poste.evenement%}Événement{% endif %}
              </h2>
              {% elif poste.type == '1' %}
              <h2>
                Demande de {% if poste.stage %}Stage{% elif poste.logement%}Logement{% elif poste.transport %}Transport{% elif poste.recommandation %}Recommandation{% elif poste.evenement %}Événement{% endif %}
              </h2>
              {% endif %} {% if poste.logement %}

              <div>
                <strong>Localisation:</strong> {{poste.logement.localisation}}<br />
                <strong>Description:</strong> {{ poste.logement.description}}<br />
                <strong>Contact:</strong> {{ poste.logement.contactinfo }}<br />
              </div>
              {% elif poste.transport %}

              <div>
                <strong>Départ:</strong> {{ poste.transport.depart }}<br />
                <strong>Destination:</strong> {{poste.transport.destination}}<br />
                <strong>Heure de départ:</strong> {{poste.transport.heure_dep}}<br />
                <strong>Nombre de sièges:</strong> {{poste.transport.nbre_sièges}}<br />
                <strong>Contact:</strong> {{ poste.transport.contactinfo }}<br />
              </div>
              {% elif poste.stage %}

              <div>
                <strong>Société:</strong> {{ poste.stage.société }}<br />
                <strong>Durée:</strong> {{ poste.stage.durée }}<br />
                <strong>Sujet:</strong> {{ poste.stage.sujet }}<br />
                <strong>Contact:</strong> {{ poste.stage.contactinfo }}<br />
                <strong>Spécialité:</strong> {{ poste.stage.spécialite }}<br />
              </div>
              {% elif poste.recommandation %}

              <div>
                <strong>Texte:</strong> {{ poste.recommandation.text }}<br />
              </div>
              {% elif poste.evenement %} {% if poste.evenement.evenclub %}

              <div>
                <strong>Club:</strong> {{ poste.evenement.evenclub.club }}<br />
                <strong>Intitulé:</strong> {{ poste.evenement.intitulé }}<br />
                <strong>Description:</strong> {{poste.evenement.description}}<br />
                <strong>Lieu:</strong> {{ poste.evenement.lieu }}<br />
                <strong>Contact:</strong> {{ poste.evenement.contactInfo }}<br />
              </div>
              {% elif poste.evenement.evensocial %}

              <div>
                <strong>Intitulé:</strong> {{ poste.evenement.intitulé }}<br />
                <strong>Description:</strong> {{poste.evenement.description}}<br />
                <strong>Lieu:</strong> {{ poste.evenement.lieu }}<br />
                <strong>Contact:</strong> {{ poste.evenement.contactInfo }}<br />
                <strong>Prix:</strong> {{ poste.evenement.evensocial.prix }}<br />
              </div>
              {% endif %} {% endif %}

              <br /><br />

              <div class="post-username">
                <img
                  class="post-avatar"
                  src="https://img.freepik.com/vecteurs-premium/illustration-vectorielle-plate-echelle-gris-avatar-profil-utilisateur-icone-personne-image-profil-silhouette-neutre-genre-convient-pour-profils-medias-sociaux-icones-economiseurs-ecran-comme-modelex9xa_719432-879.jpg"
                />
                <div class="post-details">
                  <h2 class="post-name">{{poste.title}}</h2>
                  <p class="post-author">Posted By : {{poste.user}}</p>
                </div>
                <div
                  data-lyket-type="like"
                  data-lyket-id="{{ poste.id }}"
                  data-lyket-namespace="blog"
                  data-lyket-template="twitter"
                ></div>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    {% endblock %}
  </body>
</html>
